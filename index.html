<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>💖 Love Score Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #ffe6f0; color: #333; padding: 2em; max-width: 600px; margin: auto; }
    h1 { text-align: center; color: #d63384; }
    label { display: block; margin-top: 1em; font-weight: bold; }
    input, button { padding: 0.5em; width: 100%; margin-top: 0.3em; }
    #result { margin-top: 2em; font-size: 1.5em; text-align: center; color: #c2185b; }
  </style>
</head>
<body>
  <h1>💖 Love Score Calculator</h1>

  <label>Reply Time (minutes):
    <input type="number" id="replyTime" min="0">
  </label>

  <label>Emoji Rate (emojis per message):
    <input type="number" step="0.01" id="emojiRate" min="0">
  </label>

  <label>Message Balance (value between 0 and 1):
    <input type="number" step="0.01" id="msgBalance" min="0" max="1">
  </label>

  <label>Activity Consistency (fraction of active days, 0 to 1):
    <input type="number" step="0.01" id="activity" min="0" max="1">
  </label>
 <!-- Add this inside the <body>, before the button -->
<label>Upload Chat (.txt):
  <input type="file" id="chatUpload" accept=".txt">
</label>

  <button onclick="calculateScore()">Calculate 💘</button>

  <div id="result"></div>

  <!-- Update your <script> section with this -->
    <footer class="text-center py-6 text-gray-500 text-sm border-t border-gray-200">
    Made with <span aria-label="heart" role="img">❤️</span> by <a href="#" class="text-pink-600 font-semibold hover:underline">Yug Yadav</a>
  </footer>
<script>
  function calculateScore(replyTime, emojiRate, msgBalance, activity) {
    let score = 50;

    if (replyTime < 2) score += 25;
    else if (replyTime < 5) score += 15;
    else if (replyTime < 10) score += 10;
    else if (replyTime < 30) score += 5;
    else score -= 15;

    if (emojiRate > 0.5) score += 20;
    else if (emojiRate > 0.2) score += 15;
    else if (emojiRate > 0.1) score += 10;
    else if (emojiRate > 0.05) score += 5;

    if (msgBalance > 0.45) score += 15;
    else if (msgBalance > 0.35) score += 10;
    else if (msgBalance > 0.25) score += 5;
    else score -= 10;

    if (activity > 0.8) score += 15;
    else if (activity > 0.5) score += 10;
    else if (activity > 0.3) score += 5;

    return Math.max(0, Math.min(100, score));
  }

  document.getElementById('chatUpload').addEventListener('change', function() {
    const file = this.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(event) {
      const text = event.target.result;
      const lines = text.split('\n').filter(Boolean);

      const totalMessages = lines.length;
      let user1Count = 0, user2Count = 0;
      let emojiCount = 0;

      lines.forEach(line => {
        if (line.includes('😊') || line.includes('❤️') || line.includes('😂') || line.includes('😍'))
          emojiCount++;
        if (line.includes(':')) {
          if (line.startsWith('You:')) user1Count++;
          else user2Count++;
        }
      });

      const emojiRate = emojiCount / totalMessages;
      const msgBalance = Math.min(user1Count, user2Count) / Math.max(user1Count, user2Count);
      const replyTime = 4; // Placeholder: simulate average reply time in minutes
      const activity = 0.6; // Placeholder: simulate percentage of days active

      const score = calculateScore(replyTime, emojiRate, msgBalance, activity);
      document.getElementById('result').innerText = `💌 Your Love Score is: ${score}%`;
    };
    reader.readAsText(file);
  });
</script>
<!-- Update your <script> section with this -->
<script>
  function calculateScore(replyTime, emojiRate, msgBalance, activity) {
    let score = 50;

    if (replyTime < 2) score += 25;
    else if (replyTime < 5) score += 15;
    else if (replyTime < 10) score += 10;
    else if (replyTime < 30) score += 5;
    else score -= 15;

    if (emojiRate > 0.5) score += 20;
    else if (emojiRate > 0.2) score += 15;
    else if (emojiRate > 0.1) score += 10;
    else if (emojiRate > 0.05) score += 5;

    if (msgBalance > 0.45) score += 15;
    else if (msgBalance > 0.35) score += 10;
    else if (msgBalance > 0.25) score += 5;
    else score -= 10;

    if (activity > 0.8) score += 15;
    else if (activity > 0.5) score += 10;
    else if (activity > 0.3) score += 5;

    return Math.max(0, Math.min(100, score));
  }

  document.getElementById('chatUpload').addEventListener('change', function() {
    const file = this.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(event) {
      const text = event.target.result;
      const lines = text.split('\n').filter(Boolean);

      const totalMessages = lines.length;
      let user1Count = 0, user2Count = 0;
      let emojiCount = 0;

      lines.forEach(line => {
        if (line.includes('😊') || line.includes('❤️') || line.includes('😂') || line.includes('😍'))
          emojiCount++;
        if (line.includes(':')) {
          if (line.startsWith('You:')) user1Count++;
          else user2Count++;
        }
      });

      const emojiRate = emojiCount / totalMessages;
      const msgBalance = Math.min(user1Count, user2Count) / Math.max(user1Count, user2Count);
      const replyTime = 4; // Placeholder: simulate average reply time in minutes
      const activity = 0.6; // Placeholder: simulate percentage of days active

      const score = calculateScore(replyTime, emojiRate, msgBalance, activity);
      document.getElementById('result').innerText = `💌 Your Love Score is: ${score}%`;
    };
    reader.readAsText(file);
  });
</script>

</body>
</html>
